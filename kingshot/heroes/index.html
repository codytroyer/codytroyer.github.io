<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Save your Kingshot heroes roster for reuse across tools." />
  <title>Kingshot Heroes Roster</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="../" aria-label="Back to Kingshot tools">
        <span class="brand-mark" aria-hidden="true"></span>
        <span class="brand-text">Kingshot Labs</span>
      </a>

      <nav class="header-nav" aria-label="Primary">
        <a class="nav-link" href="../">Tools</a>
        <a class="nav-link" href="#roster">Roster</a>
        <a class="nav-link" href="#import">Import/Export</a>
      </nav>

      <div class="header-actions">
        <button class="btn ghost" id="toggleTheme" type="button">Theme</button>
      </div>
    </div>
  </header>

  <main class="container main">
    <section class="hero">
      <div class="badge-row">
        <span class="badge">Live tool</span>
        <span class="badge subtle">Saved locally</span>
      </div>
      <h1>Heroes Roster</h1>
      <p class="muted lead">
        Enter your heroes once and reuse them across Kingshot tools. Data is stored locally in your browser
        (no accounts, no server). You can export a backup anytime.
      </p>

      <div class="notice">
        <strong>Privacy:</strong> This roster is saved in <code>localStorage</code> on this device/browser only.
        Clearing site data or using a different browser/device will reset it.
      </div>
    </section>

    <section class="panel" id="roster" aria-label="Roster editor">
      <div class="panel-head">
        <h2>Your heroes</h2>
        <div class="panel-actions">
          <button class="btn" id="addHero" type="button">Add hero</button>
          <button class="btn ghost" id="clearAll" type="button">Clear all</button>
        </div>
      </div>

      <div class="filters">
        <div class="control">
          <label class="label" for="search">Search</label>
          <input class="input" id="search" type="search" placeholder="Search by name, tag, notes…" autocomplete="off" />
        </div>
        <div class="control">
          <label class="label" for="tagFilter">Tag</label>
          <select class="select" id="tagFilter">
            <option value="all">All</option>
          </select>
        </div>
      </div>

      <div class="table-wrap">
        <table class="table" aria-label="Heroes table">
          <thead>
            <tr>
              <th>Name</th>
              <th class="num">Level</th>
              <th class="num">Stars</th>
              <th>Tags</th>
              <th>Notes</th>
              <th class="actions-col"></th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>

      <div class="empty" id="emptyState" hidden>
        <h3>No heroes yet</h3>
        <p class="muted">Click “Add hero” to create your roster.</p>
      </div>
    </section>

    <section class="panel" id="import" aria-label="Import and export">
      <div class="panel-head">
        <h2>Backup & transfer</h2>
        <p class="muted small">
          Export JSON to back up your roster or move it to another device. Import replaces your current roster.
        </p>
      </div>

      <div class="io-grid">
        <div class="io-card">
          <h3>Export</h3>
          <p class="muted">Download a JSON file of your roster.</p>
          <button class="btn primary" id="exportBtn" type="button">Download JSON</button>
        </div>

        <div class="io-card">
          <h3>Import</h3>
          <p class="muted">Load a previously exported JSON file.</p>
          <input class="file" id="importFile" type="file" accept="application/json" />
          <button class="btn" id="importBtn" type="button">Import (replace roster)</button>
        </div>
      </div>
    </section>

    <section class="panel" aria-label="Data model">
      <div class="panel-head">
        <h2>For future tools</h2>
        <p class="muted small">
          This page stores a simple roster object other tools can read. Next calculators can pull your heroes
          and let you pick a squad, compare builds, etc.
        </p>
      </div>
      <pre class="code"><code id="debugPreview" aria-label="Roster JSON preview"></code></pre>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <span class="muted small">© <span id="year"></span> Kingshot Labs</span>
      <a class="muted small" href="../">Back to tools</a>
    </div>
  </footer>

  <dialog class="dialog" id="heroDialog" aria-label="Add or edit hero">
    <form method="dialog" class="dialog-card" id="heroForm">
      <div class="dialog-head">
        <h3 id="dialogTitle">Add hero</h3>
        <button class="icon-btn" value="cancel" aria-label="Close">×</button>
      </div>

      <div class="grid">
        <div class="control">
          <label class="label" for="name">Name</label>
          <input class="input" id="name" name="name" required maxlength="60" placeholder="Hero name" />
        </div>

        <div class="row">
          <div class="control">
            <label class="label" for="level">Level</label>
            <input class="input" id="level" name="level" type="number" min="1" max="999" value="1" />
          </div>

          <div class="control">
            <label class="label" for="stars">Stars</label>
            <input class="input" id="stars" name="stars" type="number" min="0" max="20" value="0" />
          </div>
        </div>

        <div class="control">
          <label class="label" for="tags">Tags (comma-separated)</label>
          <input class="input" id="tags" name="tags" placeholder="e.g., support, DPS, arena" />
        </div>

        <div class="control">
          <label class="label" for="notes">Notes</label>
          <textarea class="textarea" id="notes" name="notes" rows="3" placeholder="Anything you want to remember..."></textarea>
        </div>
      </div>

      <div class="dialog-actions">
        <button class="btn" value="cancel" type="button" id="cancelBtn">Cancel</button>
        <button class="btn primary" value="default" type="submit" id="saveBtn">Save</button>
      </div>

      <input type="hidden" id="heroId" name="heroId" />
    </form>
  </dialog>

  <script src="script.js" defer></script>
</body>
</html>

